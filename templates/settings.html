<TMPL_IF FORM1>
									<center>
											<br>
									</center>
									<form method="post" data-ajax="false" name="main_form" id="main_form" action="./index.cgi?form=1">
										<input type="hidden" name="saveformdata1" value="1">
											<div class="form-group">
												<table class="formtable" border="0" width="100%" cellpadding="10">
													<tr>
														<td colspan=3 width="75%" valign="middle">
															<h2><TMPL_VAR SETTINGS.LABEL_SERVER_SETTINGS></h2>
														</td>
														<td align="right">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelfetch"><TMPL_VAR SETTINGS.LABEL_FETCH></label>
														</td>
														<td width="50%">
															<a id="fetch" data-role="button" style="background-color: rgba(67, 236, 48, 0.4);" data-mini="true" href="javascript:fetchweather()"><TMPL_VAR SETTINGS.BUTTON_FETCH></a>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1">
																<span id="fetchstate">&nbsp;</span>
															</font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelweatherservice"><TMPL_VAR SETTINGS.LABEL_WEATHERSERVICE></label>
														</td>
														<td width="50%">
															<TMPL_VAR WEATHERSERVICE>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_CONFIGUREWEATHERSERVICE></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelusealternatedfc"><TMPL_VAR SETTINGS.LABEL_USEALTERNATEDFC></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
																			<td><TMPL_VAR USEALTERNATEDFC></td>
																			<td width="100%"><TMPL_VAR WEATHERSERVICEDFC></td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_USEALTERNATEDFC></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelusealternatehfc"><TMPL_VAR SETTINGS.LABEL_USEALTERNATEHFC></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
																			<td><TMPL_VAR USEALTERNATEHFC></td>
																			<td width="100%"><TMPL_VAR WEATHERSERVICEHFC></td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_USEALTERNATEHFC></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelmetric"><TMPL_VAR SETTINGS.LABEL_UNITS></label>
														</td>
														<td width="50%">
															<TMPL_VAR METRIC>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelauto"><TMPL_VAR SETTINGS.LABEL_FETCH_DATA></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td width="20%">
															<fieldset>
															<TMPL_VAR GETDATA>
															</fieldset>
															</td>
															<td>
															<TMPL_VAR CRON>
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_FREE_ACCOUNT></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelloxgrabber"><TMPL_VAR SETTINGS.LABEL_WUGRABBER></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
																			<td><TMPL_VAR WUGRABBER></td>
																			<td width="20%" align="right"><label id="labelwustationid"><TMPL_VAR SETTINGS.LABEL_STATIONID></label></td>
																			<td width="80%"><input id="wustationid" name="wustationid" type="text" data-validation-rule="special:alphanumeric" class="textfield" value="<TMPL_VAR WUNDERGROUND.STATIONID>" data-validation-optional="true" data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_STATIONID>">
																			<font size="-1"><a id="linkwundermap" href="https://www.wunderground.com/wundermap/" target="_blank"><TMPL_VAR SETTINGS.LABEL_WUMAP></a></font></td>
															</tr>
															</table>
														</td>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_WUGRABBER></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelloxgrabber"><TMPL_VAR SETTINGS.LABEL_FOSHKGRABBER></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
																			<td><TMPL_VAR FOSHKGRABBER></td>
																			<td width="10%" align="right"><label id="labelfoshkserver" style="margin-top:15px"><TMPL_VAR SETTINGS.LABEL_FOSHKSERVER></label></td>
																			<td width="40%"><input id="foshkserver" name="foshkserver" type="text" data-validation-rule="special:hostname_or_ipaddr" class="textfield" value="<TMPL_VAR FOSHK.SERVER>" data-validation-optional="true" data-validation-error-msg="<TMPL_VAR SETTINGS.ERR_FOSHKSERVER>"></td>
																			<td width="10%" align="right"><label id="labelfoshkport" style="margin-top:15px"><TMPL_VAR SETTINGS.LABEL_FOSHKPORT></label></td>
																			<td width="40%"><input id="foshkport" name="foshkport" type="text" data-validation-rule="special:port" class="textfield" value="<TMPL_VAR FOSHK.PORT>" data-validation-optional="true" data-validation-error-msg="<TMPL_VAR SETTINGS.ERR_FOSHKPORT>">
																			</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_FOSHKGRABBER></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelloxgrabber"><TMPL_VAR SETTINGS.LABEL_LOXGRABBER></label>
														</td>
														<td width="50%">
															<TMPL_VAR LOXGRABBER>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_LOXGRABBER></font>
														</td>
													</tr>
													<tr>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=3 width="75%" valign="middle">
															<h2><TMPL_VAR SETTINGS.LABEL_DARKSKY_SETTINGS></h2>
														</td>
														<td align="right">
														<a href="https://www.darksky.net/poweredby" target="_blank"><img src="/plugins/<TMPL_VAR LBPPLUGINDIR>/images/poweredby-darksky_200.png"></a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeldarkskyapikey"><TMPL_VAR SETTINGS.LABEL_APIKEY></label>
														</td>
														<td width="50%">
																<input id="darkskyapikey" name="darkskyapikey" type="text" data-validation-rule="special:alphanumeric" class="textfield" value="<TMPL_VAR DARKSKY.APIKEY>" 
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_APIKEY>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%" valign="top">
															<br><label id="labeldarkskycoord"><TMPL_VAR SETTINGS.LABEL_COORDINATES></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labeldarkskycoordlat"><TMPL_VAR SETTINGS.LABEL_LATITUDE></label>
															</td>
															<td>
															<input id="darkskycoordlat" name="darkskycoordlat" type="text" data-validation-rule="special:number-min-max-value:-90:90" class="textfield" value="<TMPL_VAR DARKSKY.COORDLAT>" 
																data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LATITUDE>">
															</td>
															<td>
															<label id="labeldarkskycoordlong"><TMPL_VAR SETTINGS.LABEL_LONGITUDE></label>
															</td>
															<td>
															<input id="darkskycoordlong" name="darkskycoordlong" type="text" data-validation-rule="special:number-min-max-value:-180:180" class="textfield" value="<TMPL_VAR DARKSKY.COORDLONG>" 
																data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LONGITUDE>">
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<a id="darkskycoordaddresssearch" data-role="button" data-inline="true" data-mini="true" href="#"
															data-role="button" id="btndarkskyaddresssearch" data-inline="true" data-mini="true"
															onClick="window.open('/admin/plugins/<TMPL_VAR LBPPLUGINDIR>/geolocation.cgi?service=darksky',
															'NewWindow2','scrollbars=true,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no,width=900,height=600')">
															<font size="-1"><TMPL_VAR SETTINGS.LABEL_ADDRESSSEARCH></font>
															</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeldarkskylang"><TMPL_VAR SETTINGS.LABEL_LANG></label>
														</td>
														<td width="50%">
															<TMPL_VAR DARKSKYLANG>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeldarkskycity"><TMPL_VAR SETTINGS.LABEL_CITY></label>
														</td>
														<td width="50%">
															<input id="darkskycity" name="darkskycity" type="text" class="textfield" value="<TMPL_VAR DARKSKY.STATION>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_JUSTFORWEBPAGE></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeldarkskycountry"><TMPL_VAR SETTINGS.LABEL_COUNTRY></label>
														</td>
														<td width="50%">
															<input id="darkskycountry" name="darkskycountry" type="text" class="textfield" value="<TMPL_VAR DARKSKY.COUNTRY>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_JUSTFORWEBPAGE></font>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=3 width="75%" valign="middle">
															<h2><TMPL_VAR SETTINGS.LABEL_WEATHERBIT_SETTINGS></h2>
														</td>
														<td align="right">
																						<a href="https://www.weatherbit.io/" target="_blank"><b>Powered by the Weatherbit API</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelweatherbitapikey"><TMPL_VAR SETTINGS.LABEL_APIKEY></label>
														</td>
														<td width="50%">
																<input id="weatherbitapikey" name="weatherbitapikey" type="text" data-validation-rule="special:alphanumeric" class="textfield" value="<TMPL_VAR WEATHERBIT.APIKEY>" data-validation-optional="true" 
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_APIKEY>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%" valign="top">
															<br><label id="labelweatherbitcoord"><TMPL_VAR SETTINGS.LABEL_COORDINATES></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labelweatherbitcoordlat"><TMPL_VAR SETTINGS.LABEL_LATITUDE></label>
															</td>
															<td>
															<input id="weatherbitcoordlat" name="weatherbitcoordlat" type="text" data-validation-rule="special:number-min-max-value:-90:90" class="textfield" value="<TMPL_VAR WEATHERBIT.COORDLAT>" 
																data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LATITUDE>">
															</td>
															<td>
															<label id="labelweatherbitcoordlong"><TMPL_VAR SETTINGS.LABEL_LONGITUDE></label>
															</td>
															<td>
															<input id="weatherbitcoordlong" name="weatherbitcoordlong" type="text" data-validation-rule="special:number-min-max-value:-180:180" class="textfield" value="<TMPL_VAR WEATHERBIT.COORDLONG>"
																data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LONGITUDE>">
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<a id="weatherbitcoordaddresssearch" data-role="button" data-inline="true" data-mini="true" href="#"
															data-role="button" id="btnweatherbitaddresssearch" data-inline="true" data-mini="true"
															onClick="window.open('/admin/plugins/<TMPL_VAR LBPPLUGINDIR>/geolocation.cgi?service=weatherbit',
															'NewWindow2','scrollbars=true,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no,width=900,height=600')">
															<font size="-1"><TMPL_VAR SETTINGS.LABEL_ADDRESSSEARCH></font>
															</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelweatherbitlang"><TMPL_VAR SETTINGS.LABEL_LANG></label>
														</td>
														<td width="50%">
															<TMPL_VAR WEATHERBITLANG>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelweatherbitcountry"><TMPL_VAR SETTINGS.LABEL_COUNTRY></label>
														</td>
														<td width="50%">
															<input id="weatherbitcountry" name="weatherbitcountry" type="text" class="textfield" value="<TMPL_VAR WEATHERBIT.COUNTRY>">
															<!-- Only for compatibility to address search -->
															<input type="hidden" id="weatherbitcity" name="weatherbitcity" class="textfield" value="">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_JUSTFORWEBPAGE></font>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=3 width="75%" valign="middle">
															<h2><TMPL_VAR SETTINGS.LABEL_OPENWEATHER_SETTINGS></h2>
														</td>
														<td align="right">
															<a href="https://openweathermap.org/" target="_blank"><img src="/plugins/<TMPL_VAR LBPPLUGINDIR>/images/openweather_200.png"></a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelopenweatherapikey"><TMPL_VAR SETTINGS.LABEL_APIKEY></label>
														</td>
														<td width="50%">
																<input id="openweatherapikey" name="openweatherapikey" type="text" data-validation-rule="special:alphanumeric" class="textfield" value="<TMPL_VAR OPENWEATHER.APIKEY>" data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_APIKEY>" data-validation-optional="true">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%" valign="top">
															<br><label id="labelopenweathercoord"><TMPL_VAR SETTINGS.LABEL_COORDINATES></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labelopenweathercoordlat"><TMPL_VAR SETTINGS.LABEL_LATITUDE></label>
															</td>
															<td>
															<input id="openweathercoordlat" name="openweathercoordlat" type="text" data-validation-rule="special:number-min-max-value:-90:90" class="textfield" value="<TMPL_VAR OPENWEATHER.COORDLAT>" 
																data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LATITUDE>">
															</td>
															<td>
															<label id="labelopenweathercoordlong"><TMPL_VAR SETTINGS.LABEL_LONGITUDE></label>
															</td>
															<td>
															<input id="openweathercoordlong" name="openweathercoordlong" type="text" data-validation-rule="special:number-min-max-value:-180:180" class="textfield" value="<TMPL_VAR OPENWEATHER.COORDLONG>"
																data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LONGITUDE>">
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<a id="openweathercoordaddresssearch" data-role="button" data-inline="true" data-mini="true" href="#"
															data-role="button" id="btnopenweatheraddresssearch" data-inline="true" data-mini="true"
															onClick="window.open('/admin/plugins/<TMPL_VAR LBPPLUGINDIR>/geolocation.cgi?service=openweather',
															'NewWindow2','scrollbars=true,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no,width=900,height=600')">
															<font size="-1"><TMPL_VAR SETTINGS.LABEL_ADDRESSSEARCH></font>
															</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelopenweatherlang"><TMPL_VAR SETTINGS.LABEL_LANG></label>
														</td>
														<td width="50%">
															<TMPL_VAR OPENWEATHERLANG>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelopenweathercity"><TMPL_VAR SETTINGS.LABEL_CITY></label>
														</td>
														<td width="50%">
															<input id="openweathercity" name="openweathercity" type="text" class="textfield" value="<TMPL_VAR OPENWEATHER.STATION>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_JUSTFORWEBPAGE></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelopenweathercountry"><TMPL_VAR SETTINGS.LABEL_COUNTRY></label>
														</td>
														<td width="50%">
															<input id="openweathercountry" name="openweathercountry" type="text" class="textfield" value="<TMPL_VAR OPENWEATHER.COUNTRY>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_JUSTFORWEBPAGE></font>
														</td>
													</tr>

													<!--
													<tr>
														<td colspan=3 width="75%" valign="middle">
															<h2><TMPL_VAR SETTINGS.LABEL_WU_SETTINGS></h2>
														</td>
														<td align="right">
														<a href="http://www.wunderground.com" target="_blank"><img src="/plugins/<TMPL_VAR LBPPLUGINDIR>/images/wundergroundLogo_4c_horz_200.png"></a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelwuapikey"><TMPL_VAR SETTINGS.LABEL_APIKEY></label>
														</td>
														<td width="50%">
																<input id="wuapikey" name="wuapikey" type="text" data-validation="alphanumeric" class="textfield" value="<TMPL_VAR WUNDERGROUND.APIKEY>" 
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_APIKEY>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelwustationtyp"><TMPL_VAR SETTINGS.LABEL_WEATHERSTATION></label>
														</td>
														<td width="50%">
															<fieldset data-role="controlgroup" data-type="horizontal">
															<TMPL_VAR WUSTATIONTYP>
															</fieldset>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelwustationid"><TMPL_VAR SETTINGS.LABEL_STATIONID></label>
														</td>
														<td width="50%">
																<input id="wustationid" name="wustationid" type="text" data-validation="alphanumeric" class="textfield" value="<TMPL_VAR WUNDERGROUND.STATIONID>" 
																data-validation-allowing=":,." data-validation-optional="true" 
                data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_STATIONID>">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1"><a id="linkwundermap" href="https://www.wunderground.com/wundermap/" target="_blank"><TMPL_VAR SETTINGS.LABEL_WUMAP></a></font>
														</td>
													</tr>
													<tr>
														<td width="25%" valign="top">
															<br><label id="labelwucoord"><TMPL_VAR SETTINGS.LABEL_COORDINATES></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labelwucoordlat"><TMPL_VAR SETTINGS.LABEL_LATITUDE></label>
															</td>
															<td>
															<input id="wucoordlat" name="wucoordlat" type="text" data-validation="number" class="textfield" value="<TMPL_VAR WUNDERGROUND.COORDLAT>" 
																data-validation-allowing="range[-90;90],float" data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LATITUDE>">
															</td>
															<td>
															<label id="labelwucoordlong"><TMPL_VAR SETTINGS.LABEL_LONGITUDE></label>
															</td>
															<td>
															<input id="wucoordlong" name="wucoordlong" type="text" data-validation="number" class="textfield" value="<TMPL_VAR WUNDERGROUND.COORDLONG>" 
																data-validation-allowing="range[-180;180],float" data-validation-optional="true"
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_LONGITUDE>">
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<a id="wucoordaddresssearch" data-role="button" data-inline="true" data-mini="true" href="#"
															data-role="button" id="btnwuaddresssearch" data-inline="true" data-mini="true"
															onClick="window.open('/admin/plugins/<TMPL_VAR LBPPLUGINDIR>/geolocation.cgi?service=wu',
															'NewWindow2','scrollbars=true,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no,width=900,height=600')">
															<font size="-1"><TMPL_VAR SETTINGS.LABEL_ADDRESSSEARCH></font>
															<input id="wucity" name="wucity" type="hidden" value="">
															<input id="wucountry" name="wucountry" type="hidden" value="">
															</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelwulang"><TMPL_VAR SETTINGS.LABEL_LANG></label>
														</td>
														<td width="50%">
															<TMPL_VAR WULANG>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													-->
												</table>
											</div>
									<p>
										&nbsp;
									</p>
									<p>
										<center>
											<a id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="delete" href="./index.cgi?form=1"><TMPL_VAR SETTINGS.BUTTON_CANCEL></a>
												<button type="submit" form="main_form" id="btnsubmit" data-role="button" data-inline="true" data-mini="true" data-icon="check"><TMPL_VAR SETTINGS.BUTTON_SAVE></button>
										</center>
									</form>
									</p>

									<script>

									$( document ).ready(function() {
										// Activate on Load
										disable();

										// Validates
										validate_enable('#wustationid');
										validate_enable('#foshkserver');
										validate_enable('#foshkport');
										validate_enable('#darkskyapikey');
										validate_enable('#darkskycoordlat');
										validate_enable('#darkskycoordlong');
										validate_enable('#weatherbitapikey');
										validate_enable('#weatherbitcoordlat');
										validate_enable('#weatherbitcoordlong');
										validate_enable('#openweatherapikey');
										validate_enable('#openweathercoordlat');
										validate_enable('#openweathercoordlong');
										validate_enable('#udpport');
									});

									// Add some attributes PERL::CGI doesn't provide
									$('select[name=getdata]').attr('data-role','flipswitch');
									$('select[name=loxgrabber]').attr('data-role','flipswitch');
									$('select[name=wugrabber]').attr('data-role','flipswitch');
									$('select[name=foshkgrabber]').attr('data-role','flipswitch');
									$('select[name=usealternatedfc]').attr('data-role','flipswitch');
									$('select[name=usealternatehfc]').attr('data-role','flipswitch');
									$('select[name=weatherservice]').attr('data-mini','true');
									$('select[name=weatherservicedfc]').attr('data-mini','true');
									$('select[name=weatherservicehfc]').attr('data-mini','true');
									//$('select[name=wulang]').attr('data-mini','true');
									$('select[name=darkskylang]').attr('data-mini','true');
									$('select[name=weatherbitlang]').attr('data-mini','true');
									$('select[name=weatherbitfillmissingdata]').attr('data-role','flipswitch');
									$('select[name=openweatherlang]').attr('data-mini','true');
									//$('select[name=wulang]').attr('data-native-menu','false');
									$('select[name=metric]').attr('data-mini','true');
									//$('select[name=metric]').attr('data-native-menu','false');
									$('select[name=cron]').attr('data-mini','true');
									//$('select[name=cron]').attr('data-native-menu','false');

									// Get Data
									$( document ).on( 'change', '#getdata', function ( e ) {
										if ( $( "select[name=getdata]" ).val()  === "1" ) {
											//alert("An!");
											$('#cron').removeClass('ui-disabled');
											$('#cron').selectmenu('refresh');
										} else {
											//alert("Aus!");
											$('#cron').addClass('ui-disabled');
											$('#cron').selectmenu('refresh');
										}
									});

									// WUGrabber
									$( document ).on( 'change', '#wugrabber', function ( e ) {
										if ( $( "select[name=wugrabber]" ).val()  === "1" ) {
											//alert("An!");
											$('#labelwustationid').removeClass('ui-disabled');
											$('#wustationid').removeClass('ui-disabled');
										} else {
											//alert("Aus!");
											$('#labelwustationid').addClass('ui-disabled');
											$('#wustationid').addClass('ui-disabled');
										}
									});

									// FOSHKGrabber
									$( document ).on( 'change', '#foshkgrabber', function ( e ) {
										if ( $( "select[name=foshkgrabber]" ).val()  === "1" ) {
											//alert("An!");
											$('#labelfoshkserver').removeClass('ui-disabled');
											$('#foshkserver').removeClass('ui-disabled');
											$('#labelfoshkport').removeClass('ui-disabled');
											$('#foshkport').removeClass('ui-disabled');
										} else {
											//alert("Aus!");
											$('#labelfoshkserver').addClass('ui-disabled');
											$('#foshkserver').addClass('ui-disabled');
											$('#labelfoshkport').addClass('ui-disabled');
											$('#foshkport').addClass('ui-disabled');
										}
									});

									// Alternate DFC
									$( document ).on( 'change', '#usealternatedfc', function ( e ) {
										if ( $( "select[name=usealternatedfc]" ).val()  === "1" ) {
											//alert("An!");
											$('#weatherservicedfc').removeClass('ui-disabled');
											$('#weatherservicedfc').selectmenu('refresh');
										} else {
											//alert("Aus!");
											$('#weatherservicedfc').addClass('ui-disabled');
											$('#weatherservicedfc').selectmenu('refresh');
										}
									});

									// Alternate HFC
									$( document ).on( 'change', '#usealternatehfc', function ( e ) {
										if ( $( "select[name=usealternatehfc]" ).val()  === "1" ) {
											//alert("An!");
											$('#weatherservicehfc').removeClass('ui-disabled');
											$('#weatherservicehfc').selectmenu('refresh');
										} else {
											//alert("Aus!");
											$('#weatherservicehfc').addClass('ui-disabled');
											$('#weatherservicehfc').selectmenu('refresh');
										}
									});

									// Disable some form elements depending on selected options
									function disable() {
										if ( $( "select[name=usealternatedfc]" ).val()  === "0" ) {
											$('#weatherservicedfc').addClass('ui-disabled');
										}
										if ( $( "select[name=usealternatehfc]" ).val()  === "0" ) {
											$('#weatherservicehfc').addClass('ui-disabled');
										}
										if ( $( "select[name=getdata]" ).val()  === "0" ) {
											$('#cron').addClass('ui-disabled');
										}
										if ( $( "select[name=wugrabber]" ).val()  === "0" ) {
											$('#labelwustationid').addClass('ui-disabled');
											$('#wustationid').addClass('ui-disabled');
										}
										if ( $( "select[name=foshkgrabber]" ).val()  === "0" ) {
											$('#labelfoshkserver').addClass('ui-disabled');
											$('#foshkserver').addClass('ui-disabled');
											$('#labelfoshkport').addClass('ui-disabled');
											$('#foshkport').addClass('ui-disabled');
										}
									}

									function fetchweather()
									{

										$("#fetchstate").attr("style", "color:blue").html("<TMPL_VAR SETTINGS.HINT_FETCHWAIT>");
										$.ajax( { 
												type: 'POST',
												url: "./ajax-handler.cgi",
												data: { 
													ajax: 'fetch', 
												}
											} )
										.done(function(resp) {
											console.log( "fetch", "success", resp );
											$("#fetchstate").attr("style", "color:green").html("<TMPL_VAR SETTINGS.HINT_FETCHOK>");
										})
										.fail(function(resp) {
											console.log( "fetch", "failed", resp );
											$("#fetchstate").attr("style", "color:red").html("<TMPL_VAR SETTINGS.HINT_FETCHFAILED>");
										})
										.always(function(resp) {
											console.log( "fetch", "finished", resp );
										});

									}

									</script>
</TMPL_IF>
<TMPL_IF FORM2>
									<form method="post" data-ajax="false" name="main_form" id="main_form" action="./index.cgi?form=2">
										<input type="hidden" name="saveformdata2" value="1">
											<div class="form-group">
												<table class="formtable" border="0" width="100%" cellpadding="10">
													<tr>
														<td colspan=3 width="75%" valign="middle">
														<h2><TMPL_VAR SETTINGS.LABEL_MINISERVERCONNECTION></h2>
														</td>
														<td align="right">
														&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelminiserver"><TMPL_VAR SETTINGS.LABEL_MINISERVER></label>
														</td>
														<td width="50%">
															<TMPL_VAR MINISERVER>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_MINISERVER></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelsendudp"><TMPL_VAR SETTINGS.LABEL_SENDBYUDP></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td width="20%">
															<fieldset>
															<TMPL_VAR SENDUDP>
															</fieldset>
															</td>
															<td>
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labeludpport"><TMPL_VAR SETTINGS.LABEL_UDPPORT></label>
															</td>
															<td>
																<input id="udpport" name="udpport" type="text" data-validation-rule="special:port" class="textfield" value="<TMPL_VAR SERVER.UDPPORT>" 
																data-validation-error-msg="<TMPL_VAR SETTINGS.HINT_UDPPORT>">
															</td>
															</tr>
															</table>
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_UDP></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelsendhtml"><TMPL_VAR SETTINGS.LABEL_SENDBYHTML></label>
														</td>
														<td width="50%">
														  <table border=0>
																<tr><td>
														  <fieldset>
														  	 <select id="sendhtml" name="sendhtml" data-role="flipswitch" disabled=disabled>
														  		<option value="0"><TMPL_VAR SETTINGS.LABEL_OFF></option>
														 	 	<option selected=selected value="1"><TMPL_VAR SETTINGS.LABEL_ON></option>
														  		</select>
														  </fieldset>
																</td><td>
																&nbsp;&nbsp;<font size="-1"><TMPL_VAR SETTINGS.LABEL_LINK>: <a href="<TMPL_VAR WEBSITE>" target=_blank"><TMPL_VAR WEBSITE></a></font>
																</td></tr>
																</table>
														</td>
														<td width="5%" valign="middle">
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_HTML></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeldfc"><TMPL_VAR SETTINGS.LABEL_DFC></label>
														</td>
														<td width="50%">
														<div data-role="collapsible">
														<h4><TMPL_VAR SETTINGS.LABEL_PLEASECHOOSE></h4>
														<fieldset data-role="controlgroup">
														<TMPL_VAR DFC>
														</fieldset>
														</div>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1"><TMPL_VAR SETTINGS.HINT_FORECAST></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelhfc"><TMPL_VAR SETTINGS.LABEL_HFC></label>
														</td>
														<td width="50%">
														<div data-role="collapsible">
														<h4><TMPL_VAR SETTINGS.LABEL_PLEASECHOOSE></h4>
														<fieldset data-role="controlgroup">
														<TMPL_VAR HFC>
														</fieldset>
														</div>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1"><TMPL_VAR SETTINGS.HINT_FORECAST></font>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
												</table>
											</div>
									<p>
										&nbsp;
									</p>
									<p>
										<center>
											<a id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="delete" href="./index.cgi?form=2"><TMPL_VAR SETTINGS.BUTTON_CANCEL></a>
												<button type="submit" form="main_form" id="btnsubmit" data-role="button" data-inline="true" data-mini="true" data-icon="check"><TMPL_VAR SETTINGS.BUTTON_SAVE></button>
										</center>
									</form>
									</p>

									<script>

									$( document ).ready(function() {
										// Validates
										validate_enable('#udpport');
									});
									// Add some attributes PERL::CGI doesn't provide
									$('#sendudp').attr('data-role','flipswitch');
									</script>
</TMPL_IF>
<TMPL_IF FORM3>
									<form method="post" data-ajax="false" name="main_form" id="main_form" action="./index.cgi?form=3">
										<input type="hidden" name="saveformdata3" value="1">
											<div class="form-group">
												<table class="formtable" border="0" width="100%" cellpadding="10">
													<tr>
														<td colspan=3 width="75%" valign="middle">
														<h2><TMPL_VAR SETTINGS.LABEL_CLOUDEMU></h2>
														</td>
														<td align="right">
														&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelemu"><TMPL_VAR SETTINGS.LABEL_ENABLECLOUDEMU></label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td width="20%">
															<fieldset>
															<TMPL_VAR EMU>
															</fieldset>
															</td>
															<td>
															<a id="btntestcloudemu" href="http://<TMPL_VAR MYIP>:6066/forecast/" target="_blank" class="ui-btn ui-btn-inline ui-mini"><TMPL_VAR SETTINGS.BUTTON_TESTCLOUDEMU></a>
															</td>
															<td>
															<font color="red" size="-1"><b><TMPL_VAR EMUWARNING></b></font>
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1"><TMPL_VAR SETTINGS.HINT_CLOUDEMU></font>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=3 width="75%" valign="middle">
														<h2><TMPL_VAR SETTINGS.LABEL_WEBSITE></h2>
														</td>
														<td align="right">
														&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
														<label id="labelURL"><TMPL_VAR SETTINGS.LABEL_LINK></label>
														</td>
														<td width="50%">
														<a href="<TMPL_VAR WEBSITE>" target=_blank"><TMPL_VAR WEBSITE></a>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeltheme"><TMPL_VAR SETTINGS.LABEL_THEME></label>
														</td>
														<td width="50%">
															<TMPL_VAR THEME>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<a href="#" data-role="button" id="preview1" data-inline="true" data-mini="true" onClick="preview();">
														<font size="-1"><TMPL_VAR SETTINGS.LABEL_PREVIEW></font>
														</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeliconset"><TMPL_VAR SETTINGS.LABEL_ICONSET></label>
														</td>
														<td width="50%">
															<TMPL_VAR ICONSET>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<a href="#" data-role="button" id="preview2" data-inline="true" data-mini="true" onClick="preview();">
														<font size="-1"><TMPL_VAR SETTINGS.LABEL_PREVIEW></font>
														</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelthemelang"><TMPL_VAR SETTINGS.LABEL_THEMELANG></label>
														</td>
														<td width="50%">
															<TMPL_VAR THEMELANG>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
																						&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
												</table>
											</div>
									<p>
										&nbsp;
									</p>
									<p>
										<center>
											<a id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="delete" href="./index.cgi?form=3"><TMPL_VAR SETTINGS.BUTTON_CANCEL></a>
												<button type="submit" form="main_form" id="btnsubmit" data-role="button" data-inline="true" data-mini="true" data-icon="check"><TMPL_VAR SETTINGS.BUTTON_SAVE></button>
										</center>
									</form>
									</p>
									<script>
									// Add some attributes PERL::CGI doesn't provide
									$('select[name=emu]').attr('data-role','flipswitch');
									$('select[name=theme]').attr('data-mini','true');
									$('select[name=iconset]').attr('data-mini','true');
									$('select[name=themelang]').attr('data-mini','true');

									// Preview Link for theme and iconset
									function preview() {
										var url = './show.cgi?theme=' + $('#theme').val() + '&iconset=' + $('#iconset').val() + '&lang=' + $('#themelang').val();
										window.open(url, 'NewWindow');
									}

									// Cloud Emu Testlink
									$( document ).on( 'change', '#emu', function ( e ) {
										if ( $( "select[name=emu]" ).val()  === "1" ) {
											//alert("An!");
											$('#btntestcloudemu').removeClass('ui-disabled');
										} else {
											//alert("Aus!");
											$('#btntestcloudemu').addClass('ui-disabled');
										}
									});

									// Disable some form elements depending on selected options
									function disable() {
										if ( $( "select[name=emu]" ).val()  === "0" ) {
											$('#btntestcloudemu').addClass('ui-disabled');
										}
									}

									// Activate on Load
									disable();

									</script>
</TMPL_IF>
<TMPL_IF FORM99>
									<TMPL_VAR LOGLIST_HTML>
</TMPL_IF>
<TMPL_IF ERROR>
<center>
	<table border=0>
	<tr>
		<td align="center">
		<h2><TMPL_VAR HINT_ERROR></h2>
		<p>
		<TMPL_VAR ERRORMESSAGE>
		</p>
		</td>
	</tr>
	<tr>
		<td align="center">
		<p>
		<a id="btnok" data-role="button" data-inline="true" data-mini="true" data-icon="check" href="./index.cgi?form=<TMPL_VAR FORMNO>"><TMPL_VAR SETTINGS.BUTTON_OK></a>
		</p>
		</td>
	</tr>
	</table>
</center>
</TMPL_IF>
<TMPL_IF SAVE>
<center>
	<table border=0>
	<tr>
		<td align="center">
		<h2><TMPL_VAR SETTINGS.HINT_OK></h2>
		<p>
		<TMPL_VAR SETTINGS.OK_SETTINGS_SAVED>
		</p>
		</td>
	</tr>
	<tr>
		<td align="center">
		<p>
		<a id="btnok" data-role="button" data-inline="true" data-mini="true" data-icon="check" href="./index.cgi?form=<TMPL_VAR FORMNO>"><TMPL_VAR SETTINGS.BUTTON_OK></a>
		</p>
		</td>
	</tr>
	</table>
</center>
</TMPL_IF>
